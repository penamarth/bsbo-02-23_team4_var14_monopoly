# Прецедент: «Постройка, снос и заложение имущества»

**Рамки.**
В игре «Монополия: человек против ИИ» игрок или машина могут улучшать свои участки, убирать постройки, закладывать владения и выкупать из залога. Эти действия выполняются добровольно - после обязательных событий клетки и до завершения хода.

**Уровень.**
Отдельное игровое действие в рамках хода.

**Основной исполнитель.**
Человек-игрок или компьютерный противник (когда ход машины).

---

## Заинтересованные стороны и их требования

### Человек-игрок

Хочет видеть, какие действия сейчас возможны, какие недоступны и почему; желает, чтобы все улучшения, снос и залоги выполнялись строго по правилам игры.

### Компьютерный противник

Должен самостоятельно решать, когда и что строить, что продавать, что закладывать, опираясь на правила и свою стратегию.

### Игра

Должна правильно проверять наличие монополии, стоимость улучшений, количество построек, возможность залога, выкупа и любые ограничения. После каждого действия должна обновляться аренда и состояние владения.

---

## Предусловия

1. У игрока есть участки, с которыми можно что-то сделать.
2. Наступила часть хода, где разрешены добровольные действия.
3. Если игрок сидит в тюрьме - он всё равно может строить, сносить и закладывать.
4. У игрока достаточно денег для строительства или выкупа.
5. На заложенном участке строить и сносить нельзя.
6. Для строительства требуется полное владение одной цветовой группой.
7. Постройки должны появляться равномерно: нельзя ставить второй дом на одном участке, если на другом участке группы его нет.

---

## Итоги

### Если построено здание

* Игрок тратит нужную сумму.
* Участок получает следующий уровень постройки (дом → 2 дома → … → отель).
* Аренда на участке увеличивается.
* Игра показывает обновлённый вид участка.

### Если здание снесено

* Игрок получает половину стоимости постройки.
* Уровень постройки уменьшается.
* Аренда уменьшается.
* Игра отражает изменения.

### Если участок заложен

* Игрок получает сумму залога.
* Участок считается «в залоге».
* Аренда на нём становится равной нулю.

### Если участок выкуплен

* Игрок платит сумму залога плюс надбавку.
* Участок перестаёт быть заложенным.
* Аренда возвращается к прежним значениям.

---

## Основной ход действий

1. Игра показывает возможности для выбранного участка:
   - построить;
   - снести;
   - заложить;
   - выкупить.
2. Человек выбирает действие, либо компьютер совершает его автоматически.
3. Игра проверяет, можно ли выполнить выбранное действие.
4. Если всё разрешено - игра проводит операцию: деньги уходят или приходят, постройки меняются, участок получает нужный статус.
5. На экране обновляется внешний вид участка и баланс игрока.
6. Игрок может выполнять следующие действия или завершить ход.

---

## Альтернативные варианты и ограничения

### A. Нельзя строить - нет монополии

Игрок пытается что-то построить, но у него нет всех участков цвета.
Игра сообщает причину и предлагает другое действие.

### B. Недостаточно денег

Игрок хочет построить или выкупить, но денег не хватает.
Игра сообщает об этом и предлагает: заложить участок, снести строения или отказаться.

### C. Участок заложен

Игрок пытается строить или сносить на заложенном участке.
Игра запрещает действие и предлагает сначала выкупить участок.

### D. Постройка отеля

На всех участках группы стоит по 4 дома.
Игрок строит ещё - дома заменяются отелем.

---

## Особые требования

* Строить и сносить можно только равномерно в пределах цветовой группы.
* На заложенном участке постройки невозможны.
* Участок можно заложить только после полного сноса построек.
* После любой операции должны изменяться аренда, деньги и внешний вид участка.
* Все действия должны однозначно выполнять правила настольной игры.
* Автоматический противник принимает решения сам, без запроса игроку.

---

## Какие вопросы остаются открытыми?

1. При продаже игрок получает половину стоимости постройки или другую сумму?
2. Надбавка за выкуп - строго как в классической игре (10%), или другое значение?
3. Разрешено ли игроку строить и сносить после перемещения по карточке «Шанс/Общественная казна» в тот же ход?
4. Должен ли компьютер убирать постройки, если ему срочно нужны деньги?
5. Есть ли общий запас домов и отелей (как в классической версии), или он не ограничен?
